mutation createCart(
  $input: CreateCartInput!
  $includeDiscountCodes: Boolean!
  $includeDiscountCodesAutoSelectPlan: Boolean!
  $includeDiscountCodesPromotion: Boolean!
  $includeAppliedPromotions: Boolean!
  $includeAppliedPromotionsDiscountCode: Boolean!
  $includeAppliedPromotionsPromotion: Boolean!
) {
  createCart(input: $input) {
    subscription {
      ...SubscriptionFields
      discountCodes @include(if: $includeDiscountCodes) {
        ...DiscountCodeFields
        autoSelectPlan @include(if: $includeDiscountCodesAutoSelectPlan) {
          ...PlanFields
        }
        promotion @include(if: $includeDiscountCodesPromotion) {
          ...PromotionFields
        }
      }
      appliedPromotions @include(if: $includeAppliedPromotions) {
        ...AppliedPromotionFields
        discountCode @include(if: $includeAppliedPromotionsDiscountCode) {
          ...DiscountCodeFields
        }
        promotion @include(if: $includeAppliedPromotionsPromotion) {
          ...PromotionFields
        }
      }
    }
  }
}

query getCart(
  $token: ID!
  $includeDiscountCodes: Boolean!
  $includeDiscountCodesAutoSelectPlan: Boolean!
  $includeDiscountCodesPromotion: Boolean!
  $includeAppliedPromotions: Boolean!
  $includeAppliedPromotionsDiscountCode: Boolean!
  $includeAppliedPromotionsPromotion: Boolean!
) {
  getCart: getSubscription(token: $token) {
    ...SubscriptionFields

    discountCodes @include(if: $includeDiscountCodes) {
      ...DiscountCodeFields
      autoSelectPlan @include(if: $includeDiscountCodesAutoSelectPlan) {
        ...PlanFields
      }
      promotion @include(if: $includeDiscountCodesPromotion) {
        ...PromotionFields
      }
    }

    appliedPromotions @include(if: $includeAppliedPromotions) {
      ...AppliedPromotionFields
      discountCode @include(if: $includeAppliedPromotionsDiscountCode) {
        ...DiscountCodeFields
      }
      promotion @include(if: $includeAppliedPromotionsPromotion) {
        ...PromotionFields
      }
    }
  }
}

mutation addToCart($input: CreateOrderedProductInput!) {
  addToCart: createOrderedProduct(input: $input) {
    subscription {
      ...SubscriptionFields
    }
    orderedProduct {
      ...OrderedProductFields
    }
  }
}

mutation removeFromCart($input: DestroyOrderedProductInput!) {
  removeFromCart: destroyOrderedProduct(input: $input) {
    subscription {
      ...SubscriptionFields
    }
    orderedProduct {
      ...OrderedProductFields
    }
  }
}

mutation updateOrderedProductInCartQuantity($id: ID, $quantity: Int) {
  updateOrderedProductInCartQuantity: updateOrderedProductQuantity(
    input: { orderedProduct: { id: $id, quantity: $quantity } }
  ) {
    orderedProduct {
      ...OrderedProductFields
    }
    subscription {
      ...SubscriptionFields
    }
  }
}

mutation updateOrderedProductInCart(
  $id: ID
  $interval: Int
  $intervalUnitOfMeasureType: OrderedProductIntervalUnitOfMeasure
  $metadata: JSON
  $productId: ID
  $quantity: Int
  $shipmentDate: ISO8601Date
) {
  updateOrderedProductInCart: updateOrderedProduct(
    input: {
      id: $id
      interval: $interval
      intervalUnitOfMeasureType: $intervalUnitOfMeasureType
      metadata: $metadata
      productId: $productId
      quantity: $quantity
      shipmentDate: $shipmentDate
    }
  ) {
    orderedProduct {
      ...OrderedProductFields
      subscription {
        ...SubscriptionFields
      }
    }
  }
}

mutation updateAddressDetails(
  $metadata: JSON
  $companyName: String
  $salutation: String
  $name: String
  $lastName: String
  $address: String
  $zipcode: String
  $houseNumber: String
  $city: String
  $country: String
  $state: String
  $district: String
  $phoneNumber: String
  $dateOfBirth: ISO8601Date
  $differentBillingAddress: Boolean
  $billToCompanyName: String
  $billToSalutation: String
  $billToName: String
  $billToLastName: String
  $billToAddress: String
  $billToZipcode: String
  $billToHouseNumber: String
  $billToCity: String
  $billToCountry: String
  $billToState: String
  $billToDistrict: String
  $billToPhoneNumber: String
  $email: String
  $termsAccepted: Boolean
  $marketingOptIn: Boolean
  $extraFields: [ExtraFieldInput!]
  $locale: String
  $chargeDayOfTheMonth: Int
) {
  updateAddressDetails(
    input: {
      metadata: $metadata
      companyName: $companyName
      salutation: $salutation
      name: $name
      lastName: $lastName
      address: $address
      zipcode: $zipcode
      houseNumber: $houseNumber
      city: $city
      country: $country
      state: $state
      district: $district
      phoneNumber: $phoneNumber
      dateOfBirth: $dateOfBirth
      differentBillingAddress: $differentBillingAddress
      billToCompanyName: $billToCompanyName
      billToSalutation: $billToSalutation
      billToName: $billToName
      billToLastName: $billToLastName
      billToAddress: $billToAddress
      billToZipcode: $billToZipcode
      billToHouseNumber: $billToHouseNumber
      billToCity: $billToCity
      billToCountry: $billToCountry
      billToState: $billToState
      billToDistrict: $billToDistrict
      billToPhoneNumber: $billToPhoneNumber
      email: $email
      termsAccepted: $termsAccepted
      marketingOptIn: $marketingOptIn
      extraFields: $extraFields
      locale: $locale
      chargeDayOfTheMonth: $chargeDayOfTheMonth
    }
  ) {
    subscription {
      ...SubscriptionFields
    }
    errors {
      ...ModelValidationErrorFields
    }
  }
}

mutation updateCartPlan($input: UpdatePlanInput!) {
  updateCartPlan: updatePlan(input: $input) {
    subscription {
      ...SubscriptionFields
    }
  }
}

mutation createSubscriptionFromCart($input: CreateSubscriptionFromCartInput!) {
  createSubscriptionFromCart(input: $input) {
    subscription {
      ...SubscriptionFields
    }
    errors {
      ...ModelValidationErrorFields
    }
    paymentUrl
    returnUrl
  }
}
